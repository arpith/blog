---
layout: post
date: 2015-12-23 17:55:53 GMT
tags:
- reactjs
- react-router
- animation
- css
- javascript
- frontend
- web development
- ui
- design
title: "Sliding React Components"
---
# Sliding React Components

<p>Yesterday I talked about <a href="http://arpith.co/post/135710048657/animating-react-components">animating page changes</a> using <a href="https://github.com/rackt/react-router">React Router</a> and&nbsp;<a href="https://facebook.github.io/react/docs/animation.html">ReactCSSTransitionGroup</a>. Today’s post is about how you can slide the new component in (and the old one out).</p><figure data-orig-width="1200" data-orig-height="900" class="tmblr-full"><img src="/images/96761befec064e85debf0b07748393e196f0d1994fae51448724f099592838dd.jpg" data-orig-width="1200" data-orig-height="900"></figure><h2>The Components</h2><p>ReactCSSTransitionGroup uses the component key to determine which child components have entered, left or stayed:</p><pre>import React from 'react';<br>import ReactCSSTransitionGroup from 'react-addons-css-transition-group';<br>import BackgroundImage from './BackgroundImage';<br> &nbsp;<br>class App extends React.Component {<br> &nbsp;render() {</pre><pre> &nbsp; &nbsp;let page = this.props.location.pathname.substr(1);<br> &nbsp; &nbsp;if (!page) page = 'home';</pre><pre> &nbsp; &nbsp;return (<br> &nbsp; &nbsp; &nbsp;&lt;div&gt;<br> &nbsp; &nbsp; &nbsp; &lt;ReactCSSTransitionGroup<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;transitionName="background"<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;transitionEnterTimeout={1000}<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;transitionLeaveTimeout={1000}<br> &nbsp; &nbsp; &nbsp; &nbsp;&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;BackgroundImage page={page} key={page} /&gt;<br> &nbsp; &nbsp; &nbsp; &nbsp;&lt;/ReactCSSTransitionGroup&gt;<br> &nbsp; &nbsp; &nbsp;&lt;/div&gt;<br> &nbsp; &nbsp;);<br> &nbsp;}<br>}</pre><pre>export default App;</pre><p><a href="https://github.com/rackt/react-router/blob/latest/docs/Glossary.md#location">this.props.location.pathname</a> gives you the url (‘/about’ or ‘/’) and substr(1) lets you drop the ‘/’ in the beginning. If the string is empty you know it’s the home page you’re on. You can then pass the page as a prop to the BackgroundImage component.</p><p>So what does BackgroundImage look like? I’m glad you asked!</p><pre>import React from 'react';</pre><pre>class BackgroundImage extends React.Component {<br> &nbsp;render() {<br> &nbsp; &nbsp;const urls = {<br> &nbsp; &nbsp; &nbsp;home: 'http://i.imgur.com/kJXRAZH.jpg',<br> &nbsp; &nbsp; &nbsp;about: 'http://i.imgur.com/TaA1gj9.png'<br> &nbsp; &nbsp;};</pre><pre> &nbsp; &nbsp;const style = {<br> &nbsp; &nbsp; &nbsp;position: 'fixed',<br> &nbsp; &nbsp; &nbsp;top: 0,<br> &nbsp; &nbsp; &nbsp;zIndex: -1000,<br> &nbsp; &nbsp; &nbsp;backgroundColor: '#FFFEF4',<br> &nbsp; &nbsp; &nbsp;width: '100%'<br> &nbsp; &nbsp;};</pre><pre> &nbsp; let src = urls[this.props.page];<br> &nbsp;<br> &nbsp; return &lt;img src={src} style={style} /&gt;;<br> &nbsp;}<br>}</pre><pre>export default BackgroundImage;</pre><p>The component chooses an image url based on the page (passed as a prop) and renders an img element with the url as the source.</p><h2>CSS Transitions</h2><p>The following CSS classes let you slide the components in and out of the page — once again, we’re sticking to things <a href="http://www.html5rocks.com/en/tutorials/speed/high-performance-animations/">we can animate cheaply</a>.</p><pre>.background-enter {<br> &nbsp;transform: translate(100%);<br>}</pre><pre>.background-enter.background-enter-active {<br> &nbsp;transform: translate(0%);<br> &nbsp;transition: transform 1000ms ease-in-out;<br>}</pre><pre>.background-leave {<br> &nbsp;transform: translate(0%);<br>}</pre><pre>.background-leave.background-leave-active {<br> &nbsp;transform: translate(-100%);<br> &nbsp;transition: transform 1000ms ease-in-out;<br>}</pre><p>The component starts out beyond the right side of the page (since the width was set to 100%) and slides into the page just as the previous component slides out.</p><p>That’s about it! If you found this interesting, you might like to read more about <a href="http://arpith.co/post/135643412857/using-react-router">using React Router</a>, or about <a href="http://arpith.co/post/135499760202/server-rendering-with-react-router">server rendering with React Router</a>.</p><p>Doing something fun with React? <a href="http://twitter.com/arpith">Let me know</a>!</p>